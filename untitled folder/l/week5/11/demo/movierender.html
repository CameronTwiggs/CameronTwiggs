<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Favorite Movies</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0/css/bootstrap.min.css" />
</head>

<body>
  <div class="container">
    <h1>Movie Search</h1>
    
    <form id="movie-form">
      <label for="movie-input">Search for a movie</label>
      <input type="text" id="movie-input"><br>     
      <input id="find-movie" type="submit" value="Movie Search">
    </form>
   
    <div id="movie-view"></div>
    
    <script type="text/javascript">
      
      let button = document.querySelector('#find-movie')      
      let postMovie = document.querySelector('#movie-view')     
      button.addEventListener("click", function(event) {        
        event.preventDefault();             
        var movie = document.getElementById("movie-form").elements[0].value;       
        var queryURL = "https://www.omdbapi.com/?s=" + movie + "&apikey=42794a3e";
        
        fetch(queryURL, {    
          method: "GET"
        }).then(function(response) {
           return response.json()
        }).then(function(myjson) {
          console.log(myjson)
          console.log(`The length of my array is ${myjson.Search.length}`)

          let movieObj = myjson.Search.filter((s) => s.Year === '1942')
          console.log(movieObj)
            
          // finally - lets render the data to the webpage
          var node = document.createElement("LI");                         // Create a <li> node
          var textnode = document.createTextNode(JSON.stringify(movieObj));  // Create a text node
          node.appendChild(textnode);                                      // Append the text to <li>

          postMovie.appendChild(node);                                     // Append li to div  
        })       
        // -----------------------------------------------------------------------
      });
    </script>
  </div>
</body>

</html>